# arc_youtube v1.2
# Embed Youtube videos with customised player
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjM6
IjEuMiI7czo2OiJhdXRob3IiO3M6MTE6IkFuZHkgQ2FydGVyIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjIzOiJodHRwOi8vYW5keS1jYXJ0ZXIuY29tLyI7czoxMToiZGVzY3JpcHRpb24iO3M6
NDM6IkVtYmVkIFlvdXR1YmUgdmlkZW9zIHdpdGggY3VzdG9taXNlZCBwbGF5ZXIiO3M6NDoi
dHlwZSI7aToxO3M6NToiZmxhZ3MiO2k6MjtzOjQ6ImhlbHAiO3M6NjY1MDoiCTxoMz5EZXNj
cmlwdGlvbjwvaDM+CgoJPHA+RWFzaWx5IGVtYmVkIFlvdXR1YmUgdmlkZW9zIGluIGFydGlj
bGVzIGFuZCBjdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBsYXllci4gYXJjX3lv
dXR1YmUgdXNlcyB0aGUgbmV3IGlmcmFtZSBwbGF5ZXIuPC9wPgoKCTxoMz5JbnN0YWxsYXRp
b248L2gzPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYjODIxNjtwbHVnaW5zJiM4MjE3
OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQgcGFzdGUgdGhlIHBsdWdpbiBj
b2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYjODIxNzsgYm94LCAmIzgyMTY7
dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFsbCYjODIxNzsuIFBsZWFzZSBu
b3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBzZXQtdXAgYSBjdXN0b20gZmllbGQgdG8gdXNl
IGZvciBhc3NvY2lhdGluZyB2aWRlb3Mgd2l0aCBhcnRpY2xlcywgdW5sZXNzIHlvdSBjaG9v
c2UgdG8gZGlyZWN0bHkgZW1iZWQgdGhlIG5ldyB0YWcgaW4gdGhlIGFydGljbGUgdGV4dC48
L3A+CgoJPGgzPlN5bnRheDwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUg
LyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZpZGVvPSZxdW90O3Rn
Yk55bVo3dnFZJnF1b3Q7IHdpZHRoPSZxdW90OzUwMCZxdW90OyByYXRpbz0mcXVvdDsxNjo5
JnF1b3Q7IC8mZ3Q7CjwvY29kZT4KPGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0m
cXVvdDtodHRwOi8vdWsueW91dHViZS5jb20vd2F0Y2g/dj10Z2JOeW1aN3ZxWSZxdW90OyB3
aWR0aD0mcXVvdDs1MDAmcXVvdDsgcmF0aW89JnF1b3Q7MTY6OSZxdW90OyAvJmd0Owo8L2Nv
ZGU+PC9wcmU+CgoJPHA+b3IsPC9wPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJl
IGxpbms9JnF1b3Q7MSZxdW90OyZndDtMaW5rJmx0Oy90eHA6YXJjX3lvdXR1YmUmZ3Q7Cjwv
Y29kZT48L3ByZT4KCgk8aDM+VXNhZ2U8L2gzPgoKCTxoND5WaWRlbyBhbmQgcGxheWxpc3Rz
PC9oND4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90aD4KCQkJPHRoPkRl
c2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+
CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD52aWRlbzwvdGQ+CgkJCTx0ZD5Zb3V0dWJlIHVybDxz
dXAgY2xhc3M9ImZvb3Rub3RlIj48YSBocmVmPSIjZm4xNzIxMzg4MDQ0NTJlZmYzMmE0MDQ2
MyI+MTwvYT48L3N1cD4gb3IgdmlkZW8gSUQgZm9yIHRoZSB2aWRlbyB5b3Ugd2FudCB0byBl
bWJlZDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+dmlkZW89JiM4
MjIwO3RhN1ZIS0d1b0pZJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5wbGF5
bGlzdDwvdGQ+CgkJCTx0ZD5Zb3V0dWJlIHBsYXlsaXN0IElEIGZvciB0aGUgcGxheWxpc3Qg
eW91IHdhbnQgdG8gZW1iZWQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJ
PHRkPnBsYXlsaXN0PSYjODIyMDsyREJGQjYwRDU4MUFCOTAxJiM4MjIxOzwvdGQ+CgkJPC90
cj4KCQk8dHI+CgkJCTx0ZD5zdGFydDwvdGQ+CgkJCTx0ZD5TdGFydCBwb3NpdGlvbiBvZiB0
aGUgdmlkZW8gYXMgYW4gaW50ZWdlcjwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPnN0YXJ0
PSYjODIyMDs2MCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y3VzdG9tPC90
ZD4KCQkJPHRkPk5hbWUgb2YgdGhlIGN1c3RvbSBmaWVsZCBjb250YWluaW5nIHZpZGVvIElE
cy91cmxzIGFzc29jaWF0ZWQgd2l0aCBhcnRpY2xlPC90ZD4KCQkJPHRkPllvdXR1YmUgSUQ8
L3RkPgoJCQk8dGQ+Y3VzdG9tPSYjODIyMDt2aWRlbyYjODIyMTs8L3RkPgoJCTwvdHI+Cgk8
L3RhYmxlPgoKCTxwIGlkPSJmbjE3MjEzODgwNDQ1MmVmZjMyYTQwNDYzIiBjbGFzcz0iZm9v
dG5vdGUiPjxzdXA+MTwvc3VwPiBUaGUgdXJsIGNhbiBiZSBlaXRoZXIgZm9yIGFuIGluZGl2
aWR1YWwgdmlkZW8gb3IgZm9yIGEgcGxheWxpc3QuPC9wPgoKCTxoND5CYXNpY3M8L2g0PgoK
CTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRp
b248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90aD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPmxpbms8L3RkPgoJCQk8dGQ+U2V0IHRvICYjODIxNjsxJiM4MjE3
OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHViZSB2aWRlbyBwYWdlIGJlbG93IHRoZSBw
bGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0aGUgPHNwYW4gY2xhc3M9ImNhcHMiPjxz
cGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9zcGFuPiBvciB0aGUgdGV4dCBiZXR3ZWVu
IG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFnczwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmxp
bms9JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxhYmVsPC90
ZD4KCQkJPHRkPkxhYmVsIGZvciB0aGUgdmlkZW88L3RkPgoJCQk8dGQ+IDxlbT5ubyBsYWJl
bDwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsPSYjODIyMDtZb3V0dWJlIHZpZGVvJiM4MjIxOzwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJlbHRhZzwvdGQ+CgkJCTx0ZD5JbmRlcGVu
ZGVudCB3cmFwdGFnIGZvciBsYWJlbDwvdGQ+CgkJCTx0ZD4gPGVtPmVtcHR5PC9lbT48L3Rk
PgoJCQk8dGQ+bGFiZWx0YWc9JiM4MjIwO2gzJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+
CgkJCTx0ZD53cmFwdGFnPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBj
bGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyB0byBiZSB1c2VkIGFzIHRoZSB3
cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwv
dGQ+CgkJCTx0ZD53cmFwdGFnPSYjODIyMDtkaXYmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0
cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBj
bGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmlidXRlIGZvciB3cmFw
dGFnPC90ZD4KCQkJPHRkPmFyY195b3V0dWJlPC90ZD4KCQkJPHRkPmNsYXNzPSYjODIyMDt5
b3V0dWJlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGg0PkN1c3RvbWlzaW5n
IHRoZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+WW91IGNhbiBjdXN0b21pc2UgdGhlIGFw
cGVhcmFuY2Ugb2YgdGhlIFlvdXR1YmUgZmxhc2ggcGxheWVyIHVzaW5nIHRoaXMgcGx1Z2lu
IHRvIGRlZmluZSBjb2xvdXJzLCBzaXplLCBhbmQgbGFuZ3VhZ2Ugc2V0dGluZ3MuPC9wPgoK
CTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRp
b248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90aD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPndpZHRoPC90ZD4KCQkJPHRkPldpZHRoIG9mIHZpZGVvPC90ZD4K
CQkJPHRkPjA8L3RkPgoJCQk8dGQ+d2lkdGg9JiM4MjIwOzIwMCYjODIyMTs8L3RkPgoJCTwv
dHI+CgkJPHRyPgoJCQk8dGQ+aGVpZ2h0PC90ZD4KCQkJPHRkPkhlaWdodCBvZiB2aWRlbzwv
dGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmhlaWdodD0mIzgyMjA7MTUwJiM4MjIxOzwvdGQ+
CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yYXRpbzwvdGQ+CgkJCTx0ZD5Bc3BlY3QgcmF0aW88
L3RkPgoJCQk8dGQ+NDozPC90ZD4KCQkJPHRkPnJhdGlvbj0mIzgyMjA7MTY6OSYjODIyMTs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dGhlbWU8L3RkPgoJCQk8dGQ+VXNlIGVpdGhl
ciB0aGUgJiM4MjIwO2RhcmsmIzgyMjE7IG9yICYjODIyMDtsaWdodCYjODIyMTsgWW91dHVi
ZSBwbGF5ZXI8L3RkPgoJCQk8dGQ+ZGFyazwvdGQ+CgkJCTx0ZD50aGVtZT0mIzgyMjA7bGln
aHQmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNvbG9yPC90ZD4KCQkJPHRk
PlVzZSBlaXRoZXIgYSAmIzgyMjA7cmVkJiM4MjIxOyBvciAmIzgyMjA7d2hpdGUmIzgyMjE7
IHZpZGVvIHByb2dyZXNzIGJhcjwvdGQ+CgkJCTx0ZD5yZWQ8L3RkPgoJCQk8dGQ+Y29sb3I9
JiM4MjIwO3doaXRlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5mczwvdGQ+
CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gYWxsb3cgZnVsbCBzY3JlZW4sICYjODIxNjsw
JiM4MjE3OyB0byAgZGlzYWJsZSBmdWxsIHNjcmVlbiBtb2RlPC90ZD4KCQkJPHRkPjE8L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGQ8L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7
IHRvIHBsYXkgdmlkZW8gaW4gSEQsICYjODIxNjswJiM4MjE3OyB0byBmb3Igbm9ybWFsIHBs
YXk8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5hdXRvPC90ZD4K
CQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0byBhdXRvcGxheSB0aGUgdmlkZW8sICYjODIxNjsw
JiM4MjE3OyB0byB0dXJuIG9mZiBhdXRvcGxheSAoZGVmYXVsdCk8L3RkPgoJCQk8dGQ+MDwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5jYzwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIx
NzsgdG8gZGlzcGxheSBjYXB0aW9ucy9zdWJ0aXRsZXMgYnkgZGVmYXVsdCwgJiM4MjE2OzAm
IzgyMTc7IHRvIHVzZSB0aGUgdXNlciYjODIxNztzIHByZWZlcmVuY2U8L3RkPgoJCQk8dGQ+
MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yZWxhdGVkPC90ZD4KCQkJPHRkPiYjODIx
NjsxJiM4MjE3OyB0byBzaG93IHJlbGF0ZWQgdmlkZW9zLCAmIzgyMTY7MCYjODIxNzsgdG8g
dHVybiB0aGVtIG9mZjwvdGQ+CgkJCTx0ZD4xPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRk
PnByaXZhY3k8L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7IGZvciBlbmhhbmNlZCBwcml2
YWN5IG1vZGUsIG5vIGNvb2tpZXMgdW5sZXNzIHRoZSB1c2VyIGNsaWNrcyBwbGF5LCAmIzgy
MTY7MCYjODIxNzsgbm9ybWFsIG1vZGU8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD5wcml2
YWN5PSYjODIxNjsxJiM4MjE3OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5zc2w8L3Rk
PgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIHVzZSA8c3BhbiBjbGFzcz0iY2FwcyI+PHNw
YW4gY2xhc3M9ImNhcHMiPkhUVFBTPC9zcGFuPjwvc3Bhbj4gcHJvdG9jb2w8L3RkPgoJCQk8
dGQ+MDwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGgzPkV4YW1wbGVzPC9oMz4KCgk8aDQ+
RXhhbXBsZSAxOiBVc2UgY3VzdG9tIGZpZWxkIHRvIGFzc29jaWF0ZSB2aWRlbyB3aXRoIGFu
IGFydGljbGU8L2g0PgoKCTxwPjx0eHA6YXJjX3lvdXR1YmUgY3VzdG9tPSJZb3V0dWJlIiAv
PjwvcD4KCgk8aDQ+RXhhbXBsZSAyOiBDdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhl
IHBsYXllciBhbmQgYXNzb2NpYXRlIHZpZGVvIHdpdGggY3VzdG9tIGZpZWxkPC9oND4KCjxw
cmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSBjb2xvcjE9JnF1b3Q7MDA2Njk5JnF1b3Q7
IGNvbG9yMj0mcXVvdDs1NGFiZDYmcXVvdDsgYm9yZGVyPSZxdW90OzEmcXVvdDsgY3VzdG9t
PSZxdW90O1lvdXR1YmUmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxwPlRoaXMgd2ls
bCBwbGFjZSBhIGJvcmRlciBhcm91bmQgdGhlIHBsYXllciBhbmQgY2hhbmdlIGl0cyBjb2xv
dXIgc2NoZW1lIHRvIGEgYmx1ZSBvbmUuIEFzIGV4YW1wbGUgMSwgdGhlIHZpZGVvIGlzIHNl
bGVjdGVkIHVzaW5nIGFuIGFydGljbGUmIzgyMTc7cyBjdXN0b20gZmllbGQgY2FsbGVkICYj
ODIxNjtZb3V0dWJlJiM4MjE3Oy48L3A+CgoJPGg0PkV4YW1wbGUgMzogU21hbGwgdmlkZW8g
cGxheWVyIHdpdGggZml4ZWQgdmlkZW88L2g0PgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195
b3V0dWJlIHdpZHRoPSZxdW90OzIwMCZxdW90OyB2aWRlbz0mcXVvdDt0Z2JOeW1aN3ZxWSZx
dW90OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPHA+SGVyZSB0aGUgdmlkZW8gaXMgZGVmaW5l
ZCB3aXRoaW4gdGhlIHRhZyB1c2luZyB0aGUgdmlkZW8gYXR0cmlidXRlIHdoaWNoIGhhcyBi
ZWVuIGdpdmVuIHRoZSB2YWx1ZSBvZiBZb3V0dWJlJiM4MjE3O3MgdmlkZW8gSUQsIGFsdGVy
bmF0aXZlbHkgdGhpcyB2YWx1ZSBjb3VsZCBoYXZlIGJlZW4gdGhlIHZpZGVvJiM4MjE3O3Mg
PHNwYW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj4uPC9wPgoKCTxoND5FeGFtcGxlIDQ6IEVt
YmVkIGEgcGxheWxpc3Q8L2g0PgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZp
ZGVvPSZxdW90O2h0dHA6Ly93d3cueW91dHViZS5jb20vdmlld19wbGF5X2xpc3Q/cD0yREJG
QjYwRDU4MUFCOTAxJnF1b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIGVtYmVk
cyBhIFlvdXR1YmUgcGxheWxpc3QgKGEgc2luZ2xlIHBsYXllciB0aGF0IGN5Y2xlcyB0aHJv
dWdoIHRoZSB2aWRlb3MgaW4gdGhlIHBsYXlsaXN0KS4gQWx0ZXJuYXRpdmVseSB0aGUgcGxh
eWxpc3QgSUQgY2FuIGJlIHVzZWQgdXNpbmcgdGhlICYjODIxNjtwbGF5bGlzdCYjODIxNzsg
YXR0cmlidXRlOi08L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgcGxheWxp
c3Q9JnF1b3Q7MkRCRkI2MEQ1ODFBQjkwMSZxdW90OyAvJmd0Owo8L2NvZGU+PC9wcmU+Cgoi
O3M6NDoiY29kZSI7czozODg5OiIKaWYgKEB0eHBpbnRlcmZhY2UgPT0gJ2FkbWluJykKewoJ
cmVnaXN0ZXJfY2FsbGJhY2soJ19hcmNfeW91dHViZV9hdXRvX2VuYWJsZScsICdwbHVnaW5f
bGlmZWN5Y2xlLmFyY195b3V0dWJlJywgJ2luc3RhbGxlZCcpOwp9CgpmdW5jdGlvbiBhcmNf
eW91dHViZSgkYXR0cywkdGhpbmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgogICAgZXh0
cmFjdChsQXR0cyhhcnJheSgKICAgICAgICAndmlkZW8nICAgICA9PiAnJywKICAgICAgICAn
cGxheWxpc3QnICA9PiAnJywKICAgICAgICAnY3VzdG9tJyAgICA9PiAnWW91dHViZSBJRCcs
CiAgICAgICAgJ3dpZHRoJyAgICAgPT4gJzAnLAogICAgICAgICdoZWlnaHQnICAgID0+ICcw
JywKICAgICAgICAncmF0aW8nICAgICA9PiAnNDozJywKICAgICAgICAnY29sb3InICAgICA9
PiAncmVkJywgLy8gb3IgJ3doaXRlJwogICAgICAgICdmcycgICAgICAgID0+ICcxJywKICAg
ICAgICAnaGQnICAgICAgICA9PiAwLAogICAgICAgICdjYycgICAgICAgID0+IDAsCiAgICAg
ICAgJ3JlbGF0ZWQnICAgPT4gMSwKICAgICAgICAnc3RhcnQnICAgICA9PiAwLAogICAgICAg
ICd0aGVtZScgICAgID0+ICdkYXJrJywKICAgICAgICAncHJpdmFjeScgICA9PiAnMCcsCiAg
ICAgICAgJ3NzbCcgICAgICAgPT4gJzAnLAogICAgICAgICdhdXRvJyAgICAgID0+ICcwJywK
ICAgICAgICAnbGluaycgICAgICA9PiAnMCcsCiAgICAgICAgJ2xhYmVsJyAgICAgPT4gJycs
CiAgICAgICAgJ2xhYmVsdGFnJyAgPT4gJycsCiAgICAgICAgJ3dyYXB0YWcnICAgPT4gJycs
CiAgICAgICAgJ2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fCiAgICApLCRhdHRzKSk7Cgog
ICAgJGN1c3RvbSA9IHN0cnRvbG93ZXIoJGN1c3RvbSk7CiAgICBpZiAoISR2aWRlbyAmJiBp
c3NldCgkdGhpc2FydGljbGVbJGN1c3RvbV0pKSB7CiAgICAgICAgJHZpZGVvID0gJHRoaXNh
cnRpY2xlWyRjdXN0b21dOwogICAgfQoKICAgICR2ID0gIiI7ICRwID0gIiI7CgogICAgLy8g
Q2hlY2sgZm9yIFlvdXR1YmUgdmlkZW8gSUQgb3IgWW91dHViZSBVUkwgdG8gZXh0cmFjdCBJ
RCBmcm9tCgogICAgaWYgKHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpcL1wvXStbQS1aYS16
MC05XC1fXStcXC55b3V0dWJlXFwuK1tBLVphLXowLTlcLlwvJSY9XD9cLV9dKyQvaSIsJHZp
ZGVvKSkgewoKICAgICAgICAkdXJsYyA9IHBhcnNlX3VybCgkdmlkZW8pOwogICAgICAgICRx
c3RyID0gJHVybGNbJ3F1ZXJ5J107CiAgICAgICAgcGFyc2Vfc3RyKCRxc3RyLCAkcWFycik7
CgogICAgICAgIGlmIChpc3NldCgkcWFyclsndiddKSkgewoKICAgICAgICAgICAgJHYgPSAk
cWFyclsndiddOwoKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHFhcnJbJ3AnXSkpIHsKCiAg
ICAgICAgICAgICRwID0gJHFhcnJbJ3AnXTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAg
ICAgIHJldHVybiAnJzsKCiAgICAgICAgfQoKICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIv
XlthLXpBLVpdK1s6XC9cL10reW91dHVcLmJlXC8oW0EtWmEtejAtOV0rKS9pIiwkdmlkZW8s
JG1hdGNoZXMpKSB7CgogICAgICAgICR2ID0gJG1hdGNoZXNbMV07CgogICAgfSBlbHNlaWYg
KCR2aWRlbykgewoKICAgICAgICAkdiA9ICR2aWRlbzsKCiAgICB9IGVsc2VpZiAoJHBsYXls
aXN0KSB7CgogICAgICAgICRwID0gJHBsYXlsaXN0OwoKICAgIH0gZWxzZSB7CgogICAgICAg
IHJldHVybiAnJzsKCiAgICB9CgogICAgaWYgKCRwKSB7CgogICAgICAgICR2bGluayA9ICdo
dHRwJy4oKCRzc2wpPydzJzonJykuJzovL3d3dy55b3V0dWJlJwogICAgICAgICAgLigoJHBy
aXZhY3kpPyctbm9jb29raWUnOicnKS4nLmNvbS9wLycuJHA7CgogICAgfSBlbHNlaWYgKCR2
KSB7CgogICAgICAgICR2bGluayA9ICdodHRwJy4oKCRzc2wpPydzJzonJykuJzovL3d3dy55
b3V0dWJlJwogICAgICAgICAgLigoJHByaXZhY3kpPyctbm9jb29raWUnOicnKS4nLmNvbS9l
bWJlZC8nLiR2OwoKICAgIH0KCiAgICBpZiAoJHZ8fCRwKSB7CgogICAgICAgICR0b29sYmFy
X2ggPSAyNTsKCiAgICAgICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQpIHsKICAgICAgICAg
IC8vIGNhbGN1bGF0ZSB0aGUgYXNwZWN0IHJhdGlvCiAgICAgICAgICBwcmVnX21hdGNoKCIv
KFswLTldKyk6KFswLTldKykvIiwkcmF0aW8sJG1hdGNoZXMpOwogICAgICAgICAgaWYgKCRt
YXRjaGVzWzBdICYmICRtYXRjaGVzWzFdIT0wICYmICRtYXRjaGVzWzJdIT0wKSB7CiAgICAg
ICAgICAgICRhc3BlY3QgPSAkbWF0Y2hlc1sxXS8kbWF0Y2hlc1syXTsKICAgICAgICAgIH0g
ZWxzZSB7CiAgICAgICAgICAgICRhc3BlY3QgPSAxLjMzMzsKICAgICAgICAgIH0KICAgICAg
ICAgIC8vIGNhbGN1YXRlIHRoZSBuZXcgd2lkdGgvaGVpZ2h0CiAgICAgICAgICBpZiAoJHdp
ZHRoKSB7CiAgICAgICAgICAgICRoZWlnaHQgPSAkd2lkdGgvJGFzcGVjdCArICR0b29sYmFy
X2g7CiAgICAgICAgICB9IGVsc2VpZiAoJGhlaWdodCkgewogICAgICAgICAgICAkd2lkdGgg
PSAoJGhlaWdodC0kdG9vbGJhcl9oKSokYXNwZWN0OwogICAgICAgICAgfSBlbHNlIHsKICAg
ICAgICAgICAgJHdpZHRoID0gNDI1OwogICAgICAgICAgICAkaGVpZ2h0ID0gMzQ0OwogICAg
ICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJHNyYyA9ICR2bGluay4nP3RoZW1lPScuKCgk
dGhlbWU9PSdkYXJrJyk/J2RhcmsnOidsaWdodCcpCiAgICAgICAgICAgIC4nJmFtcDtjb2xv
cj0nLigoJGNvbG9yPT0ncmVkJyk/J3JlZCc6J3doaXRlJykKICAgICAgICAgICAgLigoJGZz
KT8nJmFtcDtmcz0xJzonJykKICAgICAgICAgICAgLigoJGF1dG8pPycmYW1wO2F1dG9wbGF5
PTEnOicnKQogICAgICAgICAgICAuKCgkaGQpPycmYW1wO2hkPTEnOicnKQogICAgICAgICAg
ICAuKCgkc3RhcnQpPycmYW1wO3N0YXJ0PScuJHN0YXJ0OicnKTsKCiAgICAgICAgJHNyYyAu
PSAkY2MgPyAnJmFtcDtjY19sb2FkX3BvbGljeT0xJyA6ICcnOwogICAgICAgICRzcmMgLj0g
JHJlbGF0ZWQgPyAnJmFtcDtyZWw9MScgOiAnJmFtcDtyZWw9MCc7CgogICAgICAgICRvdXQg
PSAnPGlmcmFtZSB3aWR0aD0iJy4kd2lkdGguJyIgaGVpZ2h0PSInLiRoZWlnaHQKICAgICAg
ICAgIC4nIiBzcmM9IicuJHNyYy4nIiBmcmFtZWJvcmRlcj0iMCInCiAgICAgICAgICAuKCgk
ZnMpPycgYWxsb3dmdWxsc2NyZWVuJzonJykuJz48L2lmcmFtZT4nOwoKICAgICAgICBpZiAo
JGxpbmspIHsKCiAgICAgICAgICAgICR1cmwgPSAnd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9
Jy4kdjsKICAgICAgICAgICAgJG91dC49ICc8cD48YSBocmVmPSJodHRwOi8vJy4kdXJsLici
IHJlbD0iZXh0ZXJuYWwiPicKICAgICAgICAgICAgICAgIC4oKCR0aGluZyk/cGFyc2UoJHRo
aW5nKTokdXJsKQogICAgICAgICAgICAgICAgLic8L2E+PC9wPic7CgogICAgICAgIH0KCiAg
ICAgICAgcmV0dXJuIGRvTGFiZWwoJGxhYmVsLCAkbGFiZWx0YWcpLigoJHdyYXB0YWcpID8g
ZG9UYWcoJG91dCwgJHdyYXB0YWcsICRjbGFzcykgOiAkb3V0KTsKCiAgICB9Cgp9CgovLyBB
dXRvIGVuYWJsZSBwbHVnaW4gb24gaW5zdGFsbCAob3JpZ2luYWwgaWRlYSBieSBNaWNoYWVs
IE1hbmZyZSkKZnVuY3Rpb24gX2FyY195b3V0dWJlX2F1dG9fZW5hYmxlKCRldmVudCwgJHN0
ZXApCnsKICAkcGx1Z2luID0gc3Vic3RyKCRldmVudCwgc3RybGVuKCdwbHVnaW5fbGlmZWN5
Y2xlLicpKTsKICAkcHJlZml4ID0gJ2FyY195b3V0dWJlJzsKICBpZiAoc3RybmNtcCgkcGx1
Z2luLCAkcHJlZml4LCBzdHJsZW4oJHByZWZpeCkpID09IDApCiAgewogICAgc2FmZV91cGRh
dGUoJ3R4cF9wbHVnaW4nLCAic3RhdHVzID0gMSIsICJuYW1lID0gJyIgLiBkb1NsYXNoKCRw
bHVnaW4pIC4gIiciKTsKICB9Cn0KIjtzOjM6Im1kNSI7czozMjoiZThlMmY2ZGE2OWRlMTY1
MzRhM2E0YjA4OGZkZmI2YmQiO30=
