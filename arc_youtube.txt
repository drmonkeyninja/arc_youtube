# arc_youtube v2.0.1
# Embed Youtube videos with customised player
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YTo5OntzOjQ6Im5hbWUiO3M6MTE6ImFyY195b3V0dWJlIjtzOjc6InZlcnNpb24iO3M6NToi
Mi4wLjEiO3M6NjoiYXV0aG9yIjtzOjExOiJBbmR5IENhcnRlciI7czoxMDoiYXV0aG9yX3Vy
aSI7czoyMzoiaHR0cDovL2FuZHktY2FydGVyLmNvbS8iO3M6MTE6ImRlc2NyaXB0aW9uIjtz
OjQzOiJFbWJlZCBZb3V0dWJlIHZpZGVvcyB3aXRoIGN1c3RvbWlzZWQgcGxheWVyIjtzOjQ6
InR5cGUiO2k6MDtzOjQ6ImhlbHAiO3M6OTU5OToiCTxoMT5hcmNfeW91dHViZTwvaDE+CgoJ
PHA+RWFzaWx5IGVtYmVkIFlvdXR1YmUgdmlkZW9zIGluIGFydGljbGVzIGFuZCBjdXN0b21p
c2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBsYXllci4gYXJjX3lvdXR1YmUgdXNlcyB0aGUg
bmV3IGlmcmFtZSBwbGF5ZXIuPC9wPgoKCTxoMj5UYWJsZSBvZiBjb250ZW50czwvaDI+CgoJ
PG9sPgoJCTxsaT48YSBocmVmPSIjaGVscC1zZWN0aW9uMDEiPlBsdWdpbiByZXF1aXJlbWVu
dHM8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAyIj5JbnN0YWxsYXRp
b248L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2hlbHAtc2VjdGlvbjAzIj5UYWdzPC9hPjwv
bGk+CgkJPGxpPjxhIGhyZWY9IiNoZWxwLXNlY3Rpb24wNCI+QXV0aG9yPC9hPjwvbGk+CgkJ
PGxpPjxhIGhyZWY9IiNoZWxwLXNlY3Rpb24wNSI+TGljZW5zZTwvYT48L2xpPgoJPC9vbD4K
Cgk8aDIgaWQ9ImhlbHAtc2VjdGlvbjAxIj5QbHVnaW4gcmVxdWlyZW1lbnRzPC9oMj4KCgk8
cD5hcmNfeW91dHViZSYjODIxNztzIG1pbmltdW0gcmVxdWlyZW1lbnRzOjwvcD4KCgk8dWw+
CgkJPGxpPlRleHRwYXR0ZXJuIDQuNSs8L2xpPgoJPC91bD4KCgk8aDIgaWQ9ImhlbHAtc2Vj
dGlvbjAyIj5JbnN0YWxsYXRpb248L2gyPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYj
ODIxNjtwbHVnaW5zJiM4MjE3OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQg
cGFzdGUgdGhlIHBsdWdpbiBjb2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYj
ODIxNzsgYm94LCAmIzgyMTY7dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFs
bCYjODIxNzsuIFBsZWFzZSBub3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBzZXQtdXAgYSBj
dXN0b20gZmllbGQgdG8gdXNlIGZvciBhc3NvY2lhdGluZyB2aWRlb3Mgd2l0aCBhcnRpY2xl
cywgdW5sZXNzIHlvdSBjaG9vc2UgdG8gZGlyZWN0bHkgZW1iZWQgdGhlIG5ldyB0YWcgaW4g
dGhlIGFydGljbGUgdGV4dC48L3A+CgoJPGgyIGlkPSJoZWxwLXNlY3Rpb24wMyI+VGFnczwv
aDI+CgoJPGgzPmFyY195b3V0dWJlPC9oMz4KCgk8cD5FbWJlZHMgYSBZb3V0dWJlIHZpZGVv
IGluIHRoZSBwYWdlIHVzaW5nIGFuIGlmcmFtZS48L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6
YXJjX3lvdXR1YmUgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoND5WaWRlbyBhbmQgcGxheWxp
c3QgYXR0cmlidXRlczwvaDQ+CgoJPHVsPgoJCTxsaT48ZW0+dmlkZW88L2VtPiAmIzgyMTE7
IFlvdXR1YmUgdXJsPHN1cCBjbGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjExNzQxNzI2
OTM1MzAwYjZjY2MyMWEyIj4xPC9hPjwvc3VwPiBvciB2aWRlbyBJRCBmb3IgdGhlIHZpZGVv
IHlvdSB3YW50IHRvIGVtYmVkPC9saT4KCQk8bGk+PGVtPnBsYXlsaXN0PC9lbT4gJiM4MjEx
OyBZb3V0dWJlIHBsYXlsaXN0IElEIGZvciB0aGUgcGxheWxpc3QgeW91IHdhbnQgdG8gZW1i
ZWQ8L2xpPgoJCTxsaT48ZW0+Y3VzdG9tPC9lbT4gJiM4MjExOyBOYW1lIG9mIHRoZSBjdXN0
b20gZmllbGQgY29udGFpbmluZyB2aWRlbyBJRHMvdXJscyBhc3NvY2lhdGVkIHdpdGggYXJ0
aWNsZTwvbGk+CgkJPGxpPjxlbT5zdGFydDwvZW0+ICYjODIxMTsgU3RhcnQgcG9zaXRpb24g
b2YgdGhlIHZpZGVvIGFzIGFuIGludGVnZXI8L2xpPgoJCTxsaT48ZW0+YXV0bzwvZW0+ICYj
ODIxMTsgJiM4MjE2OzEmIzgyMTc7IHRvIGF1dG9wbGF5IHRoZSB2aWRlbywgJiM4MjE2OzAm
IzgyMTc7IHRvIHR1cm4gb2ZmIGF1dG9wbGF5IChkZWZhdWx0KTwvbGk+CgkJPGxpPjxlbT5s
b29wPC9lbT4gJiM4MjExOyAmIzgyMTY7MSYjODIxNzsgdG8gcGxheSB0aGUgdmlkZW8gaW4g
YSBsb29wLCAmIzgyMTY7MCYjODIxNzsgZm9yIGEgc2luZ2xlIHBsYXk8L2xpPgoJCTxsaT48
ZW0+cGxheXNpbmxpbmU8L2VtPiAmIzgyMTE7ICYjODIxNjsxJiM4MjE3OyBjYXVzZXMgaW5s
aW5lIHBsYXliYWNrIG9uIGlPUywgJiM4MjE2OzAmIzgyMTc7IGZ1bGxzY3JlZW4gcGxheWJh
Y2s8L2xpPgoJPC91bD4KCgk8cCBpZD0iZm4xMTc0MTcyNjkzNTMwMGI2Y2NjMjFhMiIgY2xh
c3M9ImZvb3Rub3RlIj48c3VwPjE8L3N1cD4gVGhlIHVybCBjYW4gYmUgZWl0aGVyIGZvciBh
biBpbmRpdmlkdWFsIHZpZGVvIG9yIGZvciBhIHBsYXlsaXN0LjwvcD4KCgk8aDQ+QmFzaWMg
YXR0cmlidXRlczwvaDQ+CgoJPHVsPgoJCTxsaT48ZW0+bGluazwvZW0+ICYjODIxMTsgU2V0
IHRvICYjODIxNjsxJiM4MjE3OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHViZSB2aWRl
byBwYWdlIGJlbG93IHRoZSBwbGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0aGUgPHNw
YW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj4gb3IgdGhlIHRleHQgYmV0d2VlbiBvcGVuaW5n
IGFuZCBjbG9zaW5nIHRhZ3M8L2xpPgoJCTxsaT48ZW0+bGFiZWw8L2VtPiAmIzgyMTE7IExh
YmVsIGZvciB0aGUgdmlkZW88L2xpPgoJCTxsaT48ZW0+bGFiZWx0YWc8L2VtPiAmIzgyMTE7
IEluZGVwZW5kZW50IHdyYXB0YWcgZm9yIGxhYmVsPC9saT4KCQk8bGk+PGVtPndyYXB0YWc8
L2VtPiAmIzgyMTE7IDxzcGFuIGNsYXNzPSJjYXBzIj5IVE1MPC9zcGFuPiB0YWcgdG8gYmUg
dXNlZCBhcyB0aGUgd3JhcHRhZywgd2l0aG91dCBicmFja2V0czwvbGk+CgkJPGxpPjxlbT5j
bGFzczwvZW0+ICYjODIxMTsgPHNwYW4gY2xhc3M9ImNhcHMiPkNTUzwvc3Bhbj4gY2xhc3Mg
YXR0cmlidXRlIGZvciB3cmFwdGFnPC9saT4KCTwvdWw+CgoJPGg0PkN1c3RvbWlzaW5nIHRo
ZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+U29tZSBvZiB0aGUgYXR0cmlidXRlcyB3aXRo
IHRoaXMgcGx1Z2luIGFyZSBzdWJqZWN0IHRvIGNoYW5nZSBpZiBZb3V0dWJlIGNoYW5nZSB0
aGVpciBzdXBwb3J0ZWQgcGFyYW1ldGVycyBmb3IgdGhlIHBsYXllci4gU29tZSB3aWxsIG5v
dCB3b3JrIHdpdGggdGhlIEhUTUw1IHBsYXllciB3aGljaCB0aGUgcGxheWVyIGRlZmF1bHRz
IHRvIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGl0LjwvcD4KCgk8dWw+CgkJPGxpPjxlbT53
aWR0aDwvZW0+ICYjODIxMTsgV2lkdGggb2YgdmlkZW88L2xpPgoJCTxsaT48ZW0+aGVpZ2h0
PC9lbT4gJiM4MjExOyBIZWlnaHQgb2YgdmlkZW88L2xpPgoJCTxsaT48ZW0+cmF0aW88L2Vt
PiAmIzgyMTE7IEFzcGVjdCByYXRpbyAoZGVmYXVsdHMgdG8gNDozKTwvbGk+CgkJPGxpPjxl
bT50aGVtZTwvZW0+ICYjODIxMTsgVXNlIGVpdGhlciB0aGUgJiM4MjIwO2RhcmsmIzgyMjE7
IG9yICYjODIyMDtsaWdodCYjODIyMTsgWW91dHViZSBwbGF5ZXI8L2xpPgoJCTxsaT48ZW0+
Y29sb3I8L2VtPiAmIzgyMTE7IFVzZSBlaXRoZXIgYSAmIzgyMjA7cmVkJiM4MjIxOyBvciAm
IzgyMjA7d2hpdGUmIzgyMjE7IHZpZGVvIHByb2dyZXNzIGJhcjwvbGk+CgkJPGxpPjxlbT5t
b2Rlc3RicmFuZGluZzwvZW0+ICYjODIxMTsgJiM4MjE2OzEmIzgyMTc7IHRvIHByZXZlbnQg
dGhlIFlvdVR1YmUgbG9nbyBmcm9tIGRpc3BsYXlpbmcgaW4gdGhlIGNvbnRyb2wgYmFyPC9s
aT4KCQk8bGk+PGVtPmZzPC9lbT4gJiM4MjExOyAmIzgyMTY7MSYjODIxNzsgdG8gYWxsb3cg
ZnVsbCBzY3JlZW4sICYjODIxNjswJiM4MjE3OyB0byAgZGlzYWJsZSBmdWxsIHNjcmVlbiBt
b2RlPHN1cCBjbGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjE5NDg2NDg4MTY1MzAwYjZj
Y2MzZjEzIj4yPC9hPjwvc3VwPjwvbGk+CgkJPGxpPjxlbT5jYzwvZW0+ICYjODIxMTsgJiM4
MjE2OzEmIzgyMTc7IHRvIGRpc3BsYXkgY2FwdGlvbnMvc3VidGl0bGVzIGJ5IGRlZmF1bHQs
ICYjODIxNjswJiM4MjE3OyB0byB1c2UgdGhlIHVzZXImIzgyMTc7cyBwcmVmZXJlbmNlPHN1
cCBjbGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjE5NDg2NDg4MTY1MzAwYjZjY2MzZjEz
Ij4yPC9hPjwvc3VwPjwvbGk+CgkJPGxpPjxlbT5yZWxhdGVkPC9lbT4gJiM4MjExOyAmIzgy
MTY7MSYjODIxNzsgdG8gc2hvdyByZWxhdGVkIHZpZGVvcywgJiM4MjE2OzAmIzgyMTc7IHRv
IHR1cm4gdGhlbSBvZmY8L2xpPgoJCTxsaT48ZW0+cHJpdmFjeTwvZW0+ICYjODIxMTsgJiM4
MjE2OzEmIzgyMTc7IGZvciBlbmhhbmNlZCBwcml2YWN5IG1vZGUsIG5vIGNvb2tpZXMgdW5s
ZXNzIHRoZSB1c2VyIGNsaWNrcyBwbGF5LCAmIzgyMTY7MCYjODIxNzsgbm9ybWFsIG1vZGU8
L2xpPgoJCTxsaT48ZW0+YXV0b2hpZGU8L2VtPiAmIzgyMTE7ICYjODIxNjsyJiM4MjE3OyBm
b3IgdGhlIHZpZGVvIHByb2dyZXNzIGJhciB0byBmYWRlIG91dCB3aGlsZSB0aGUgcGxheWVy
IGNvbnRyb2xzIChwbGF5IGJ1dHRvbiwgdm9sdW1lIGNvbnRyb2wsIGV0Yy4pIHJlbWFpbiB2
aXNpYmxlOyAmIzgyMTY7MSYjODIxNzsgZm9yIHRoZSB2aWRlbyBwcm9ncmVzcyBiYXIgYW5k
IHRoZSBwbGF5ZXIgY29udHJvbHMgd2lsbCBzbGlkZSBvdXQgb2YgdmlldyBhIGNvdXBsZSBv
ZiBzZWNvbmRzIGFmdGVyIHRoZSB2aWRlbyBzdGFydHMgcGxheWluZzsgb3IgJiM4MjE2OzAm
IzgyMTc7IHRvIGFsd2F5cyBzaG93IHRoZSBwcm9ncmVzcyBiYXIgYW5kIGNvbnRyb2xzPC9s
aT4KCQk8bGk+PGVtPmNvbnRyb2xzPC9lbT4gJiM4MjExOyAmIzgyMTY7MiYjODIxNzsgdG8g
ZGlzcGxheSB0aGUgY29udHJvbHMgaW4gdGhlIHBsYXllciwgJiM4MjE2OzAmIzgyMTc7IHRv
IGhpZGUgdGhlbTwvbGk+CgkJPGxpPjxlbT5hbm5vdGF0aW9uczwvZW0+ICYjODIxMTsgJiM4
MjE2OzEmIzgyMTc7IHRvIHNob3cgYW5ub3RhdGlvbnMsICYjODIxNjszJiM4MjE3OyB0byBo
aWRlIHRoZW08L2xpPgoJCTxsaT48ZW0+dGl0bGU8L2VtPiAmIzgyMTE7ICYjODIxNjswJiM4
MjE3OyB0byBoaWRlIHRoZSB2aWRlbyYjODIxNztzIHRpdGxlIGFuZCBvdGhlciBpbmZvcm1h
dGlvbiwgJiM4MjE2OzEmIzgyMTc7IGJ5IGRlZmF1bHQgdG8gc2hvdyB0aGUgaW5mb3JtYXRp
b248L2xpPgoJPC91bD4KCgk8cCBpZD0iZm4xOTQ4NjQ4ODE2NTMwMGI2Y2NjM2YxMyIgY2xh
c3M9ImZvb3Rub3RlIj48c3VwPjI8L3N1cD4gTm90IHN1cHBvcnRlZCBieSB0aGUgSFRNTDUg
cGxheWVyLjwvcD4KCgk8aDM+YXJjX2lmX3lvdXR1YmU8L2gzPgoKCTxwPlRoZSBhcmNfaXNf
eW91dHViZSB0YWcgaXMgYSA8ZW0+Y29uZGl0aW9uYWwgdGFnPC9lbT4gYW5kIGFsd2F5cyB1
c2VkIGFzIGFuIG9wZW5pbmcgYW5kIGNsb3NpbmcgcGFpci4gSXQgd2lsbCByZW5kZXIgdGhl
IGNvbnRlbnQgYmV0d2VlbiB0aGUgdGFncyBpZiB0aGUgdmlkZW8gYXR0cmlidXRlIGlzIGEg
dmFsaWQgWW91dHViZSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPi48L3A+Cgo8cHJl
Pjxjb2RlPiZsdDt0eHA6YXJjX2lmX3lvdXR1YmUgdmlkZW89JiMzOTtbVVJMXSYjMzk7Jmd0
OyZsdDsvdHhwOmFyY19pZl95b3V0dWJlJmd0Owo8L2NvZGU+PC9wcmU+CgoJPGg0PlBhcmFt
ZXRlcnM8L2g0PgoKCTxwPlVzZSBvbmUgb3IgdGhlIG90aGVyIG9mIHRoZSBmb2xsb3dpbmc6
LTwvcD4KCgk8dWw+CgkJPGxpPjxlbT5jdXN0b208L2VtPiAmIzgyMTE7IE5hbWUgb2YgdGhl
IGN1c3RvbSBmaWVsZCBjb250YWluaW5nIHZpZGVvIElEcy91cmxzIGFzc29jaWF0ZWQgd2l0
aCBhcnRpY2xlPC9saT4KCQk8bGk+PGVtPnZpZGVvPC9lbT4gJiM4MjExOyBBIDxzcGFuIGNs
YXNzPSJjYXBzIj5VUkw8L3NwYW4+IHRvIGNoZWNrIGlmIGl0IGlzIGEgdmFsaWQgWW91dHVi
ZSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPjwvbGk+Cgk8L3VsPgoKCTxoMiBpZD0i
aGVscC1zZWN0aW9uMDQiPkV4YW1wbGVzPC9oMj4KCgk8aDM+RXhhbXBsZSAxOiBVc2UgY3Vz
dG9tIGZpZWxkIHRvIGFzc29jaWF0ZSB2aWRlbyB3aXRoIGFuIGFydGljbGU8L2gzPgoKPHBy
ZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIGN1c3RvbT0mcXVvdDtZb3V0dWJlJnF1b3Q7
IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDM+RXhhbXBsZSAyOiBDdXN0b21pc2UgdGhlIGFw
cGVhcmFuY2Ugb2YgdGhlIHBsYXllciBhbmQgYXNzb2NpYXRlIHZpZGVvIHdpdGggY3VzdG9t
IGZpZWxkPC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB0aGVtZT0mcXVv
dDtsaWdodCZxdW90OyBtb2Rlc3RicmFuZGluZz0mcXVvdDsxJnF1b3Q7IGN1c3RvbT0mcXVv
dDtZb3V0dWJlJnF1b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIHdpbGwgdXNl
IHRoZSA8ZW0+bGlnaHQ8L2VtPiBwbGF5ZXIgdGhlbWUgd2l0aCBtb2Rlc3QgYnJhbmRpbmcg
KDxpPmkuZS48L2k+IHJlbW92ZXMgdGhlIFlvdXR1YmUgbG9nbyBmcm9tIHRoZSBjb250cm9s
cykuIEFzIGV4YW1wbGUgMSwgdGhlIHZpZGVvIGlzIHNlbGVjdGVkIHVzaW5nIGFuIGFydGlj
bGUmIzgyMTc7cyBjdXN0b20gZmllbGQgY2FsbGVkICYjODIxNjtZb3V0dWJlJiM4MjE3Oy48
L3A+CgoJPGgzPkV4YW1wbGUgMzogU21hbGwgdmlkZW8gcGxheWVyIHdpdGggZml4ZWQgdmlk
ZW88L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHdpZHRoPSZxdW90OzIw
MCZxdW90OyB2aWRlbz0mcXVvdDt0Z2JOeW1aN3ZxWSZxdW90OyAvJmd0Owo8L2NvZGU+PC9w
cmU+CgoJPHA+SGVyZSB0aGUgdmlkZW8gaXMgZGVmaW5lZCB3aXRoaW4gdGhlIHRhZyB1c2lu
ZyB0aGUgdmlkZW8gYXR0cmlidXRlIHdoaWNoIGhhcyBiZWVuIGdpdmVuIHRoZSB2YWx1ZSBv
ZiBZb3V0dWJlJiM4MjE3O3MgdmlkZW8gSUQsIGFsdGVybmF0aXZlbHkgdGhpcyB2YWx1ZSBj
b3VsZCBoYXZlIGJlZW4gdGhlIHZpZGVvJiM4MjE3O3MgPHNwYW4gY2xhc3M9ImNhcHMiPlVS
TDwvc3Bhbj4uPC9wPgoKCTxoMiBpZD0iaGVscC1zZWN0aW9uMDQiPkF1dGhvcjwvaDI+CgoJ
PHA+PGEgaHJlZj0iaHR0cDovL2FuZHktY2FydGVyLmNvbSI+QW5keSBDYXJ0ZXI8L2E+LiBG
b3Igb3RoZXIgVGV4dHBhdHRlcm4gcGx1Z2lucyBieSBtZSB2aXNpdCBteSA8YSBocmVmPSJo
dHRwOi8vYW5keS1jYXJ0ZXIuY29tL3R4cCI+UGx1Z2lucyBwYWdlPC9hPi48L3A+CgoJPGgy
IGlkPSJoZWxwLXNlY3Rpb24wNSI+TGljZW5zZTwvaDI+CgoJPHA+VGhlIDxzcGFuIGNsYXNz
PSJjYXBzIj5NSVQ8L3NwYW4+IExpY2Vuc2UgKDxzcGFuIGNsYXNzPSJjYXBzIj5NSVQ8L3Nw
YW4+KTwvcD4KCgk8cD5Db3B5cmlnaHQgJiMxNjk7IDIwMTQgQW5keSBDYXJ0ZXI8L3A+CgoJ
PHA+UGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFu
eSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lh
dGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAmIzgyMjA7U29mdHdhcmUmIzgyMjE7KSwg
dG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5n
IHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBt
ZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29w
aWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhl
IFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93
aW5nIGNvbmRpdGlvbnM6PC9wPgoKCTxwPlRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFu
ZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3Bp
ZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLjwvcD4KCgk8cD48
c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+U09GVFdB
UkU8L3NwYW4+IElTIDxzcGFuIGNsYXNzPSJjYXBzIj5QUk9WSURFRDwvc3Bhbj4gJiM4MjIw
O0FTIElTJiM4MjIxOywgPHNwYW4gY2xhc3M9ImNhcHMiPldJVEhPVVQ8L3NwYW4+IDxzcGFu
IGNsYXNzPSJjYXBzIj5XQVJSQU5UWTwvc3Bhbj4gT0YgPHNwYW4gY2xhc3M9ImNhcHMiPkFO
WTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPktJTkQ8L3NwYW4+LCA8c3BhbiBjbGFzcz0i
Y2FwcyI+RVhQUkVTUzwvc3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNhcHMiPklNUExJRUQ8L3Nw
YW4+LCA8c3BhbiBjbGFzcz0iY2FwcyI+SU5DTFVESU5HPC9zcGFuPiA8c3BhbiBjbGFzcz0i
Y2FwcyI+QlVUPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+Tk9UPC9zcGFuPiA8c3BhbiBj
bGFzcz0iY2FwcyI+TElNSVRFRDwvc3Bhbj4gVE8gPHNwYW4gY2xhc3M9ImNhcHMiPlRIRTwv
c3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPldBUlJBTlRJRVM8L3NwYW4+IE9GIDxzcGFuIGNs
YXNzPSJjYXBzIj5NRVJDSEFOVEFCSUxJVFk8L3NwYW4+LCA8c3BhbiBjbGFzcz0iY2FwcyI+
RklUTkVTUzwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkZPUjwvc3Bhbj4gQSA8c3BhbiBj
bGFzcz0iY2FwcyI+UEFSVElDVUxBUjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPlBVUlBP
U0U8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5BTkQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5OT05JTkZSSU5HRU1FTlQ8L3NwYW4+LiBJTiBOTyA8c3BhbiBjbGFzcz0iY2FwcyI+
RVZFTlQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5TSEFMTDwvc3Bhbj4gPHNwYW4gY2xh
c3M9ImNhcHMiPlRIRTwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkFVVEhPUlM8L3NwYW4+
IE9SIDxzcGFuIGNsYXNzPSJjYXBzIj5DT1BZUklHSFQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5IT0xERVJTPC9zcGFuPiBCRSA8c3BhbiBjbGFzcz0iY2FwcyI+TElBQkxFPC9zcGFu
PiA8c3BhbiBjbGFzcz0iY2FwcyI+Rk9SPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+QU5Z
PC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+Q0xBSU08L3NwYW4+LCA8c3BhbiBjbGFzcz0i
Y2FwcyI+REFNQUdFUzwvc3Bhbj4gT1IgPHNwYW4gY2xhc3M9ImNhcHMiPk9USEVSPC9zcGFu
PiA8c3BhbiBjbGFzcz0iY2FwcyI+TElBQklMSVRZPC9zcGFuPiwgPHNwYW4gY2xhc3M9ImNh
cHMiPldIRVRIRVI8L3NwYW4+IElOIEFOIDxzcGFuIGNsYXNzPSJjYXBzIj5BQ1RJT048L3Nw
YW4+IE9GIDxzcGFuIGNsYXNzPSJjYXBzIj5DT05UUkFDVDwvc3Bhbj4sIDxzcGFuIGNsYXNz
PSJjYXBzIj5UT1JUPC9zcGFuPiBPUiA8c3BhbiBjbGFzcz0iY2FwcyI+T1RIRVJXSVNFPC9z
cGFuPiwgPHNwYW4gY2xhc3M9ImNhcHMiPkFSSVNJTkc8L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5GUk9NPC9zcGFuPiwgPHNwYW4gY2xhc3M9ImNhcHMiPk9VVDwvc3Bhbj4gT0YgT1Ig
SU4gPHNwYW4gY2xhc3M9ImNhcHMiPkNPTk5FQ1RJT048L3NwYW4+IDxzcGFuIGNsYXNzPSJj
YXBzIj5XSVRIPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBj
bGFzcz0iY2FwcyI+U09GVFdBUkU8L3NwYW4+IE9SIDxzcGFuIGNsYXNzPSJjYXBzIj5USEU8
L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXBzIj5VU0U8L3NwYW4+IE9SIDxzcGFuIGNsYXNzPSJj
YXBzIj5PVEhFUjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcHMiPkRFQUxJTkdTPC9zcGFuPiBJ
TiA8c3BhbiBjbGFzcz0iY2FwcyI+VEhFPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FwcyI+U09G
VFdBUkU8L3NwYW4+LjwvcD4iO3M6NDoiY29kZSI7czo1NzQ2OiIKZnVuY3Rpb24gYXJjX3lv
dXR1YmUoJGF0dHMsICR0aGluZykKewoJZ2xvYmFsICR0aGlzYXJ0aWNsZTsKCiAgICBleHRy
YWN0KGxBdHRzKGFycmF5KAogICAgICAgICd2aWRlbycgICAgID0+ICcnLAogICAgICAgICdw
bGF5bGlzdCcgID0+ICcnLAogICAgICAgICdjdXN0b20nICAgID0+ICdZb3V0dWJlIElEJywK
ICAgICAgICAnd2lkdGgnICAgICA9PiAnMCcsCiAgICAgICAgJ2hlaWdodCcgICAgPT4gJzAn
LAogICAgICAgICdyYXRpbycgICAgID0+ICc0OjMnLAogICAgICAgICdjb2xvcicgICAgID0+
ICdyZWQnLCAvLyBvciAnd2hpdGUnCiAgICAgICAgJ2ZzJyAgICAgICAgPT4gJzEnLAogICAg
ICAgICdjYycgICAgICAgID0+IDAsCiAgICAgICAgJ3JlbGF0ZWQnICAgPT4gMSwKICAgICAg
ICAnc3RhcnQnICAgICA9PiAwLAogICAgICAgICd0aGVtZScgICAgID0+ICdkYXJrJywKICAg
ICAgICAncHJpdmFjeScgICA9PiAnMCcsCiAgICAgICAgJ2F1dG8nICAgICAgPT4gJzAnLAog
ICAgICAgICdhdXRvaGlkZScgID0+IG51bGwsCiAgICAgICAgJ2NvbnRyb2xzJyAgPT4gbnVs
bCwKICAgICAgICAnYW5ub3RhdGlvbnMnID0+IG51bGwsIC8vIDEgb3IgMwogICAgICAgICds
b29wJyAgICAgID0+IDAsCiAgICAgICAgJ21vZGVzdGJyYW5kaW5nJyA9PiBudWxsLAogICAg
ICAgICdwbGF5c2lubGluZScgPT4gbnVsbCwgLy8gMCBvciAxCiAgICAgICAgJ3RpdGxlJyAg
ICAgPT4gbnVsbCwKICAgICAgICAnbGluaycgICAgICA9PiAnMCcsCiAgICAgICAgJ2xhYmVs
JyAgICAgPT4gJycsCiAgICAgICAgJ2xhYmVsdGFnJyAgPT4gJycsCiAgICAgICAgJ3dyYXB0
YWcnICAgPT4gJycsCiAgICAgICAgJ2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fCiAgICAp
LCRhdHRzKSk7CgogICAgJGN1c3RvbSA9IHN0cnRvbG93ZXIoJGN1c3RvbSk7CiAgICBpZiAo
ISR2aWRlbyAmJiBpc3NldCgkdGhpc2FydGljbGVbJGN1c3RvbV0pKSB7CiAgICAgICAgJHZp
ZGVvID0gJHRoaXNhcnRpY2xlWyRjdXN0b21dOwogICAgfQoKICAgICR2ID0gbnVsbDsKICAg
ICRwID0gbnVsbDsKCiAgICAvLyBDaGVjayBmb3IgWW91dHViZSB2aWRlbyBJRCBvciBZb3V0
dWJlIFVSTCB0byBleHRyYWN0IElEIGZyb20KICAgICRtYXRjaCA9IF9hcmNfeW91dHViZSgk
dmlkZW8pOwogICAgaWYgKCFlbXB0eSgkbWF0Y2hbJ3YnXSkpIHsKICAgICAgICAkdiA9ICRt
YXRjaFsndiddOwogICAgfSBlbHNlaWYgKCFlbXB0eSgkbWF0Y2hbJ3AnXSkpIHsKICAgICAg
ICAkcCA9ICRtYXRjaFsncCddOwogICAgfSBlbHNlaWYgKCFlbXB0eSgkdmlkZW8pKSB7CiAg
ICAgICAgJHYgPSAkdmlkZW87CiAgICB9IGVsc2VpZiAoIWVtcHR5KCRwbGF5bGlzdCkpIHsK
ICAgICAgICAkcCA9ICRwbGF5bGlzdDsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcn
OwogICAgfQoKICAgICRzcmMgPSAnLy93d3cueW91dHViZScgLiAoJHByaXZhY3kgPyAnLW5v
Y29va2llJyA6ICcnKSAuICcuY29tL2VtYmVkLyc7CgogICAgJHNyYyAuPSAhZW1wdHkoJHYp
ID8gJHYgOiBudWxsOwoKICAgICRxU3RyaW5nID0gYXJyYXkoKTsKCiAgICAvLyBTZXR1cCB0
aGUgcGxheWxpc3QuCiAgICBpZiAoIWVtcHR5KCRwKSkgewogICAgICAgICRxU3RyaW5nW10g
PSAnbGlzdFR5cGU9cGxheWxpc3QnOwogICAgICAgICRxU3RyaW5nW10gPSAnbGlzdD0nIC4g
JHA7CiAgICB9CgogICAgLy8gU2V0IHRoZSBwbGF5ZXIgVUkncyB0aGVtZSBhbmQgY29sb3Vy
LgogICAgJHFTdHJpbmdbXSA9ICd0aGVtZT0nIC4gKCR0aGVtZT09J2RhcmsnID8gJ2Rhcmsn
IDogJ2xpZ2h0Jyk7CiAgICAkcVN0cmluZ1tdID0gJ2NvbG9yPScgLiAoJGNvbG9yPT0ncmVk
JyA/ICdyZWQnIDogJ3doaXRlJyk7CgogICAgLy8gRGlzYWJsZSB0aGUgZnVsbHNjcmVlbiBi
dXR0b24gaW4gdGhlIEFTMyBwbGF5ZXIgKG5vdCBzdXBwb3J0ZWQgYnkgdGhlCiAgICAvLyBu
ZXdlciBIVE1MNSBwbGF5ZXIpLgogICAgaWYgKCEkZnMpIHsKICAgICAgICAkcVN0cmluZ1td
ID0gJ2ZzPTAnOwogICAgfQoKICAgIC8vIEVuYWJsZSBhdXRvcGxheS4KICAgIGlmICgkYXV0
bykgewogICAgICAgICRxU3RyaW5nW10gPSAnYXV0b3BsYXk9MSc7CiAgICB9CgogICAgLy8g
RGV0ZXJtaW5lIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIncyBjb250cm9scy4KICAg
IGlmICgkYXV0b2hpZGUhPT1udWxsICYmIGluX2FycmF5KCRhdXRvaGlkZSwgYXJyYXkoMCwg
MSwgMikpKSB7CiAgICAgICAgJHFTdHJpbmdbXSA9ICdhdXRvaGlkZT0nIC4gJGF1dG9oaWRl
OwogICAgfQogICAgaWYgKCRjb250cm9scyE9PW51bGwgJiYgaW5fYXJyYXkoJGNvbnRyb2xz
LCBhcnJheSgwLCAxLCAyKSkpIHsKICAgICAgICAkcVN0cmluZ1tdID0gJ2NvbnRyb2xzPScg
LiAkY29udHJvbHM7CiAgICB9CgogICAgLy8gRW5hYmxlL0Rpc2FibGUgYW5ub3RhdGlvbnMg
ZGlzcGxheSBieSBkZWZhdWx0LgogICAgaWYgKCRhbm5vdGF0aW9ucyE9PW51bGwgJiYgaW5f
YXJyYXkoJGFubm90YXRpb25zLCBhcnJheSgxLCAzKSkpIHsKICAgICAgICAkcVN0cmluZ1td
ID0gJ2l2X2xvYWRfcG9saWN5PScgLiAkYW5ub3RhdGlvbnM7CiAgICB9CgogICAgLy8gRW5h
YmxlIGxvb3Bpbmcgb2YgdGhlIHZpZGVvLgogICAgaWYgKCRsb29wKSB7CiAgICAgICAgJHFT
dHJpbmdbXSA9ICdsb29wPTEnOwogICAgfQoKICAgIC8vIEVuYWJsZSBtb2Rlc3QgYnJvd3Np
bmcgKHJlbW92ZXMgdGhlIFlvdXR1YmUgbG9nbyBmcm9tIHRoZSBjb250cm9scykuCiAgICBp
ZiAoJG1vZGVzdGJyYW5kaW5nKSB7CiAgICAgICAgJHFTdHJpbmdbXSA9ICdtb2Rlc3RicmFu
ZGluZz0xJzsKICAgIH0KCiAgICBpZiAoJHBsYXlzaW5saW5lIT09bnVsbCAmJiBpbl9hcnJh
eSgkcGxheXNpbmxpbmUsIGFycmF5KDAsIDEpKSkgewogICAgICAgICRxU3RyaW5nW10gPSAn
cGxheXNpbmxpbmU9JyAuICRwbGF5c2lubGluZTsKICAgIH0KCiAgICAvLyBTZXQgdGhlIHN0
YXJ0IHBvc2l0aW9uIG9mIHRoZSB2aWRlby4KICAgIGlmICgkc3RhcnQpIHsKICAgICAgICAk
cVN0cmluZ1tdID0gJ3N0YXJ0PScgLiAkc3RhcnQ7CiAgICB9CgogICAgLy8gU2hvdyBvciBo
aWRlIHRoZSB2aWRlbyB0aXRsZSBhbmQgb3RoZXIgaW5mb3JtYXRpb24uCiAgICBpZiAoJHRp
dGxlIT09bnVsbCkgewogICAgICAgICRxU3RyaW5nW10gPSAnc2hvd2luZm89JyAuICgkdGl0
bGUgPyAnMScgOiAnMCcpOwogICAgfQoKICAgIC8vIEVuYWJsZSBjYXB0aW9ucyBvbiBieSBk
ZWZhdWx0IGluIHRoZSBBUzMgcGxheWVyIChub3Qgc3VwcG9ydGVkIGJ5IHRoZQogICAgLy8g
bmV3ZXIgSFRNTDUgcGxheWVyKS4KICAgIGlmICgkY2MpIHsKICAgICAgICAkcVN0cmluZ1td
ID0gJ2NjX2xvYWRfcG9saWN5PTEnOwogICAgfQoKICAgIC8vIERpc2FibGUgcmVsYXRlZCB2
aWRlb3MuCiAgICBpZiAoISRyZWxhdGVkKSB7CiAgICAgICAgJHFTdHJpbmdbXSA9ICdyZWw9
MCc7CiAgICB9CgogICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBhcHBlbmQgYSBxdWVyeSBz
dHJpbmcgdG8gdGhlIHZpZGVvIHNyYy4KICAgIGlmICghZW1wdHkoJHFTdHJpbmcpKSB7CiAg
ICAgICAgJHNyYyAuPSAnPycgLiBpbXBsb2RlKCcmYW1wOycsICRxU3RyaW5nKTsKICAgIH0K
CiAgICAvLyBJZiB0aGUgd2lkdGggYW5kL29yIGhlaWdodCBoYXMgbm90IGJlZW4gc2V0IHdl
IHdhbnQgdG8gY2FsY3VsYXRlIG5ldwogICAgLy8gb25lcyB1c2luZyB0aGUgYXNwZWN0IHJh
dGlvLgogICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQpIHsKCiAgICAgICAgJHRvb2xiYXJI
ZWlnaHQgPSAyNTsKCiAgICAgICAgLy8gV29yayBvdXQgdGhlIGFzcGVjdCByYXRpby4KICAg
ICAgICBwcmVnX21hdGNoKCIvKFxkKyk6KFxkKykvIiwgJHJhdGlvLCAkbWF0Y2hlcyk7CiAg
ICAgICAgaWYgKCRtYXRjaGVzWzBdICYmICRtYXRjaGVzWzFdIT0wICYmICRtYXRjaGVzWzJd
IT0wKSB7CiAgICAgICAgICAgICRhc3BlY3QgPSAkbWF0Y2hlc1sxXS8kbWF0Y2hlc1syXTsK
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkYXNwZWN0ID0gMS4zMzM7CiAgICAgICAg
fQoKICAgICAgICAvLyBDYWxjdWF0ZSB0aGUgbmV3IHdpZHRoL2hlaWdodC4KICAgICAgICBp
ZiAoJHdpZHRoKSB7CiAgICAgICAgICAgICRoZWlnaHQgPSAkd2lkdGgvJGFzcGVjdCArICR0
b29sYmFySGVpZ2h0OwogICAgICAgIH0gZWxzZWlmICgkaGVpZ2h0KSB7CiAgICAgICAgICAg
ICR3aWR0aCA9ICgkaGVpZ2h0LSR0b29sYmFySGVpZ2h0KSokYXNwZWN0OwogICAgICAgIH0g
ZWxzZSB7CiAgICAgICAgICAgICR3aWR0aCA9IDQyNTsKICAgICAgICAgICAgJGhlaWdodCA9
IDM0NDsKICAgICAgICB9CgogICAgfQoKICAgICRvdXQgPSAnPGlmcmFtZSB3aWR0aD0iJy4k
d2lkdGguJyIgaGVpZ2h0PSInLiRoZWlnaHQKICAgICAgLiciIHNyYz0iJy4kc3JjLiciIGZy
YW1lYm9yZGVyPSIwIicKICAgICAgLigoJGZzKT8nIGFsbG93ZnVsbHNjcmVlbic6JycpLic+
PC9pZnJhbWU+JzsKCiAgICBpZiAoJGxpbmspIHsKCiAgICAgICAgJHVybCA9ICd3d3cueW91
dHViZS5jb20vd2F0Y2g/dj0nLiR2OwogICAgICAgICRvdXQuPSAnPHA+PGEgaHJlZj0iaHR0
cDovLycuJHVybC4nIiByZWw9ImV4dGVybmFsIj4nCiAgICAgICAgICAgIC4oKCR0aGluZyk/
cGFyc2UoJHRoaW5nKTokdXJsKQogICAgICAgICAgICAuJzwvYT48L3A+JzsKCiAgICB9Cgog
ICAgcmV0dXJuIGRvTGFiZWwoJGxhYmVsLCAkbGFiZWx0YWcpLigoJHdyYXB0YWcpID8gZG9U
YWcoJG91dCwgJHdyYXB0YWcsICRjbGFzcykgOiAkb3V0KTsKCn0KCgpmdW5jdGlvbiBhcmNf
aWZfeW91dHViZSgkYXR0cywgJHRoaW5nKQp7CiAgICBnbG9iYWwgJHRoaXNhcnRpY2xlOwoK
ICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2N1c3RvbScgPT4gbnVsbCwKICAg
ICAgICAndmlkZW8nID0+IG51bGwKICAgICksICRhdHRzKSk7CgogICAgJHJlc3VsdCA9ICR2
aWRlbyA/IF9hcmNfeW91dHViZSgkdmlkZW8pIDogX2FyY195b3V0dWJlKCR0aGlzYXJ0aWNs
ZVtzdHJ0b2xvd2VyKCRjdXN0b20pXSk7CgogICAgcmV0dXJuIHBhcnNlKEV2YWxFbHNlKCR0
aGluZywgJHJlc3VsdCkpOwp9CgoKZnVuY3Rpb24gX2FyY195b3V0dWJlKCR2aWRlbykKewog
ICAgaWYgKHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpcL1wvXStbQS1aYS16MC05XC1fXStc
XC55b3V0dWJlXFwuK1tBLVphLXowLTlcLlwvJSY9XD9cLV9dKyQvaSIsICR2aWRlbykpIHsK
CiAgICAgICAgJHVybGMgPSBwYXJzZV91cmwoJHZpZGVvKTsKICAgICAgICAkcXN0ciA9ICR1
cmxjWydxdWVyeSddOwogICAgICAgIHBhcnNlX3N0cigkcXN0ciwgJHFhcnIpOwoKICAgICAg
ICBpZiAoaXNzZXQoJHFhcnJbJ3YnXSkpIHsKCiAgICAgICAgICAgIHJldHVybiBhcnJheSgn
dicgPT4gJHFhcnJbJ3YnXSk7CgogICAgICAgIH0gZWxzZWlmIChpc3NldCgkcWFyclsncCdd
KSkgewoKICAgICAgICAgICAgcmV0dXJuIGFycmF5KCdwJyA9PiAkcWFyclsncCddKTsKCiAg
ICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgfQoK
ICAgIH0gIGVsc2VpZiAocHJlZ19tYXRjaCgiL15bYS16QS1aXStbOlwvXC9dK3lvdXR1XC5i
ZVwvKFtBLVphLXowLTldKykvaSIsICR2aWRlbywgJG1hdGNoZXMpKSB7CgogICAgICAgIHJl
dHVybiBhcnJheSgndicgPT4gJG1hdGNoZXNbMV0pOwoKICAgIH0KCiAgICByZXR1cm4gZmFs
c2U7Cn0KIjtzOjM6Im1kNSI7czozMjoiM2YyNWRmMTU3MDQyYTIwNmIwMDk0ODFjZjRmNjZl
ZWIiO30=
