# arc_youtube v1.1
# Embed Youtube videos with customised player
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjM6
IjEuMSI7czo2OiJhdXRob3IiO3M6MTE6IkFuZHkgQ2FydGVyIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjIzOiJodHRwOi8vYW5keS1jYXJ0ZXIuY29tLyI7czoxMToiZGVzY3JpcHRpb24iO3M6
NDM6IkVtYmVkIFlvdXR1YmUgdmlkZW9zIHdpdGggY3VzdG9taXNlZCBwbGF5ZXIiO3M6NDoi
dHlwZSI7aToxO3M6NToiZmxhZ3MiO2k6MjtzOjQ6ImhlbHAiO3M6NjUxNjoiCTxoMz5EZXNj
cmlwdGlvbjwvaDM+CgoJPHA+RWFzaWx5IGVtYmVkIFlvdXR1YmUgdmlkZW9zIGluIGFydGlj
bGVzIGFuZCBjdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBsYXllci4gYXJjX3lv
dXR1YmUgdXNlcyB0aGUgbmV3IGlmcmFtZSBwbGF5ZXIuPC9wPgoKCTxoMz5JbnN0YWxsYXRp
b248L2gzPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYjODIxNjtwbHVnaW5zJiM4MjE3
OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQgcGFzdGUgdGhlIHBsdWdpbiBj
b2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYjODIxNzsgYm94LCAmIzgyMTY7
dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFsbCYjODIxNzsuIFBsZWFzZSBu
b3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBzZXQtdXAgYSBjdXN0b20gZmllbGQgdG8gdXNl
IGZvciBhc3NvY2lhdGluZyB2aWRlb3Mgd2l0aCBhcnRpY2xlcywgdW5sZXNzIHlvdSBjaG9v
c2UgdG8gZGlyZWN0bHkgZW1iZWQgdGhlIG5ldyB0YWcgaW4gdGhlIGFydGljbGUgdGV4dC48
L3A+CgoJPGgzPlN5bnRheDwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUg
LyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZpZGVvPSZxdW90O3Rn
Yk55bVo3dnFZJnF1b3Q7IHdpZHRoPSZxdW90OzUwMCZxdW90OyByYXRpbz0mcXVvdDsxNjo5
JnF1b3Q7IC8mZ3Q7CjwvY29kZT4KPGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0m
cXVvdDtodHRwOi8vdWsueW91dHViZS5jb20vd2F0Y2g/dj10Z2JOeW1aN3ZxWSZxdW90OyB3
aWR0aD0mcXVvdDs1MDAmcXVvdDsgcmF0aW89JnF1b3Q7MTY6OSZxdW90OyAvJmd0Owo8L2Nv
ZGU+PC9wcmU+CgoJPHA+b3IsPC9wPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJl
IGxpbms9JnF1b3Q7MSZxdW90OyZndDtMaW5rJmx0Oy90eHA6YXJjX3lvdXR1YmUmZ3Q7Cjwv
Y29kZT48L3ByZT4KCgk8aDM+VXNhZ2U8L2gzPgoKCTxoND5WaWRlbyBhbmQgcGxheWxpc3Rz
PC9oND4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90aD4KCQkJPHRoPkRl
c2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+
CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD52aWRlbzwvdGQ+CgkJCTx0ZD5Zb3V0dWJlIHVybDxz
dXAgY2xhc3M9ImZvb3Rub3RlIj48YSBocmVmPSIjZm4xMjM0NzY4Nzg0NTJlZmVkOTM4MTY3
YSI+MTwvYT48L3N1cD4gb3IgdmlkZW8gSUQgZm9yIHRoZSB2aWRlbyB5b3Ugd2FudCB0byBl
bWJlZDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+dmlkZW89JiM4
MjIwO3RhN1ZIS0d1b0pZJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5wbGF5
bGlzdDwvdGQ+CgkJCTx0ZD5Zb3V0dWJlIHBsYXlsaXN0IElEIGZvciB0aGUgcGxheWxpc3Qg
eW91IHdhbnQgdG8gZW1iZWQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJ
PHRkPnBsYXlsaXN0PSYjODIyMDsyREJGQjYwRDU4MUFCOTAxJiM4MjIxOzwvdGQ+CgkJPC90
cj4KCQk8dHI+CgkJCTx0ZD5zdGFydDwvdGQ+CgkJCTx0ZD5TdGFydCBwb3NpdGlvbiBvZiB0
aGUgdmlkZW8gYXMgYW4gaW50ZWdlcjwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPnN0YXJ0
PSYjODIyMDs2MCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y3VzdG9tPC90
ZD4KCQkJPHRkPk5hbWUgb2YgdGhlIGN1c3RvbSBmaWVsZCBjb250YWluaW5nIHZpZGVvIElE
cy91cmxzIGFzc29jaWF0ZWQgd2l0aCBhcnRpY2xlPC90ZD4KCQkJPHRkPllvdXR1YmUgSUQ8
L3RkPgoJCQk8dGQ+Y3VzdG9tPSYjODIyMDt2aWRlbyYjODIyMTs8L3RkPgoJCTwvdHI+Cgk8
L3RhYmxlPgoKCTxwIGlkPSJmbjEyMzQ3Njg3ODQ1MmVmZWQ5MzgxNjdhIiBjbGFzcz0iZm9v
dG5vdGUiPjxzdXA+MTwvc3VwPiBUaGUgdXJsIGNhbiBiZSBlaXRoZXIgZm9yIGFuIGluZGl2
aWR1YWwgdmlkZW8gb3IgZm9yIGEgcGxheWxpc3QuPC9wPgoKCTxoND5CYXNpY3M8L2g0PgoK
CTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRp
b248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90aD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPmxpbms8L3RkPgoJCQk8dGQ+U2V0IHRvICYjODIxNjsxJiM4MjE3
OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHViZSB2aWRlbyBwYWdlIGJlbG93IHRoZSBw
bGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0aGUgPHNwYW4gY2xhc3M9ImNhcHMiPjxz
cGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9zcGFuPiBvciB0aGUgdGV4dCBiZXR3ZWVu
IG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFnczwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmxp
bms9JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxhYmVsPC90
ZD4KCQkJPHRkPkxhYmVsIGZvciB0aGUgdmlkZW88L3RkPgoJCQk8dGQ+IDxlbT5ubyBsYWJl
bDwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsPSYjODIyMDtZb3V0dWJlIHZpZGVvJiM4MjIxOzwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJlbHRhZzwvdGQ+CgkJCTx0ZD5JbmRlcGVu
ZGVudCB3cmFwdGFnIGZvciBsYWJlbDwvdGQ+CgkJCTx0ZD4gPGVtPmVtcHR5PC9lbT48L3Rk
PgoJCQk8dGQ+bGFiZWx0YWc9JiM4MjIwO2gzJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+
CgkJCTx0ZD53cmFwdGFnPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBj
bGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyB0byBiZSB1c2VkIGFzIHRoZSB3
cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwv
dGQ+CgkJCTx0ZD53cmFwdGFnPSYjODIyMDtkaXYmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0
cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBj
bGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmlidXRlIGZvciB3cmFw
dGFnPC90ZD4KCQkJPHRkPmFyY195b3V0dWJlPC90ZD4KCQkJPHRkPmNsYXNzPSYjODIyMDt5
b3V0dWJlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGg0PkN1c3RvbWlzaW5n
IHRoZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+WW91IGNhbiBjdXN0b21pc2UgdGhlIGFw
cGVhcmFuY2Ugb2YgdGhlIFlvdXR1YmUgZmxhc2ggcGxheWVyIHVzaW5nIHRoaXMgcGx1Z2lu
IHRvIGRlZmluZSBjb2xvdXJzLCBzaXplLCBhbmQgbGFuZ3VhZ2Ugc2V0dGluZ3MuPC9wPgoK
CTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRp
b248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90aD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPndpZHRoPC90ZD4KCQkJPHRkPldpZHRoIG9mIHZpZGVvPC90ZD4K
CQkJPHRkPjA8L3RkPgoJCQk8dGQ+d2lkdGg9JiM4MjIwOzIwMCYjODIyMTs8L3RkPgoJCTwv
dHI+CgkJPHRyPgoJCQk8dGQ+aGVpZ2h0PC90ZD4KCQkJPHRkPkhlaWdodCBvZiB2aWRlbzwv
dGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmhlaWdodD0mIzgyMjA7MTUwJiM4MjIxOzwvdGQ+
CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yYXRpbzwvdGQ+CgkJCTx0ZD5Bc3BlY3QgcmF0aW88
L3RkPgoJCQk8dGQ+NDozPC90ZD4KCQkJPHRkPnJhdGlvbj0mIzgyMjA7MTY6OSYjODIyMTs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dGhlbWU8L3RkPgoJCQk8dGQ+VXNlIGVpdGhl
ciB0aGUgJiM4MjIwO2RhcmsmIzgyMjE7IG9yICYjODIyMDtsaWdodCYjODIyMTsgWW91dHVi
ZSBwbGF5ZXI8L3RkPgoJCQk8dGQ+ZGFyazwvdGQ+CgkJCTx0ZD50aGVtZT0mIzgyMjA7bGln
aHQmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNvbG9yPC90ZD4KCQkJPHRk
PlVzZSBlaXRoZXIgYSAmIzgyMjA7cmVkJiM4MjIxOyBvciAmIzgyMjA7d2hpdGUmIzgyMjE7
IHZpZGVvIHByb2dyZXNzIGJhcjwvdGQ+CgkJCTx0ZD5yZWQ8L3RkPgoJCQk8dGQ+Y29sb3I9
JiM4MjIwO3doaXRlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5mczwvdGQ+
CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gYWxsb3cgZnVsbCBzY3JlZW4sICYjODIxNjsw
JiM4MjE3OyB0byAgZGlzYWJsZSBmdWxsIHNjcmVlbiBtb2RlPC90ZD4KCQkJPHRkPjE8L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGQ8L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7
IHRvIHBsYXkgdmlkZW8gaW4gSEQsICYjODIxNjswJiM4MjE3OyB0byBmb3Igbm9ybWFsIHBs
YXk8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5hdXRvPC90ZD4K
CQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0byBhdXRvcGxheSB0aGUgdmlkZW8sICYjODIxNjsw
JiM4MjE3OyB0byB0dXJuIG9mZiBhdXRvcGxheSAoZGVmYXVsdCk8L3RkPgoJCQk8dGQ+MDwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5jYzwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIx
NzsgdG8gZGlzcGxheSBjYXB0aW9ucy9zdWJ0aXRsZXMgYnkgZGVmYXVsdCwgJiM4MjE2OzAm
IzgyMTc7IHRvIHVzZSB0aGUgdXNlciYjODIxNztzIHByZWZlcmVuY2U8L3RkPgoJCQk8dGQ+
MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5wcml2YWN5PC90ZD4KCQkJPHRkPiYjODIx
NjsxJiM4MjE3OyBmb3IgZW5oYW5jZWQgcHJpdmFjeSBtb2RlLCBubyBjb29raWVzIHVubGVz
cyB0aGUgdXNlciBjbGlja3MgcGxheSwgJiM4MjE2OzAmIzgyMTc7IG5vcm1hbCBtb2RlPC90
ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+cHJpdmFjeT0mIzgyMTY7MSYjODIxNzs8L3RkPgoJ
CTwvdHI+CgkJPHRyPgoJCQk8dGQ+c3NsPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0
byB1c2UgPHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5IVFRQUzwvc3Bh
bj48L3NwYW4+IHByb3RvY29sPC90ZD4KCQkJPHRkPjA8L3RkPgoJCTwvdHI+Cgk8L3RhYmxl
PgoKCTxoMz5FeGFtcGxlczwvaDM+CgoJPGg0PkV4YW1wbGUgMTogVXNlIGN1c3RvbSBmaWVs
ZCB0byBhc3NvY2lhdGUgdmlkZW8gd2l0aCBhbiBhcnRpY2xlPC9oND4KCgk8cD48dHhwOmFy
Y195b3V0dWJlIGN1c3RvbT0iWW91dHViZSIgLz48L3A+CgoJPGg0PkV4YW1wbGUgMjogQ3Vz
dG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIgYW5kIGFzc29jaWF0ZSB2aWRl
byB3aXRoIGN1c3RvbSBmaWVsZDwvaDQ+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1
YmUgY29sb3IxPSZxdW90OzAwNjY5OSZxdW90OyBjb2xvcjI9JnF1b3Q7NTRhYmQ2JnF1b3Q7
IGJvcmRlcj0mcXVvdDsxJnF1b3Q7IGN1c3RvbT0mcXVvdDtZb3V0dWJlJnF1b3Q7IC8mZ3Q7
CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIHdpbGwgcGxhY2UgYSBib3JkZXIgYXJvdW5kIHRo
ZSBwbGF5ZXIgYW5kIGNoYW5nZSBpdHMgY29sb3VyIHNjaGVtZSB0byBhIGJsdWUgb25lLiBB
cyBleGFtcGxlIDEsIHRoZSB2aWRlbyBpcyBzZWxlY3RlZCB1c2luZyBhbiBhcnRpY2xlJiM4
MjE3O3MgY3VzdG9tIGZpZWxkIGNhbGxlZCAmIzgyMTY7WW91dHViZSYjODIxNzsuPC9wPgoK
CTxoND5FeGFtcGxlIDM6IFNtYWxsIHZpZGVvIHBsYXllciB3aXRoIGZpeGVkIHZpZGVvPC9o
ND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB3aWR0aD0mcXVvdDsyMDAmcXVv
dDsgdmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoK
CTxwPkhlcmUgdGhlIHZpZGVvIGlzIGRlZmluZWQgd2l0aGluIHRoZSB0YWcgdXNpbmcgdGhl
IHZpZGVvIGF0dHJpYnV0ZSB3aGljaCBoYXMgYmVlbiBnaXZlbiB0aGUgdmFsdWUgb2YgWW91
dHViZSYjODIxNztzIHZpZGVvIElELCBhbHRlcm5hdGl2ZWx5IHRoaXMgdmFsdWUgY291bGQg
aGF2ZSBiZWVuIHRoZSB2aWRlbyYjODIxNztzIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3Nw
YW4+LjwvcD4KCgk8aDQ+RXhhbXBsZSA0OiBFbWJlZCBhIHBsYXlsaXN0PC9oND4KCjxwcmU+
PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0mcXVvdDtodHRwOi8vd3d3LnlvdXR1
YmUuY29tL3ZpZXdfcGxheV9saXN0P3A9MkRCRkI2MEQ1ODFBQjkwMSZxdW90OyAvJmd0Owo8
L2NvZGU+PC9wcmU+CgoJPHA+VGhpcyBlbWJlZHMgYSBZb3V0dWJlIHBsYXlsaXN0IChhIHNp
bmdsZSBwbGF5ZXIgdGhhdCBjeWNsZXMgdGhyb3VnaCB0aGUgdmlkZW9zIGluIHRoZSBwbGF5
bGlzdCkuIEFsdGVybmF0aXZlbHkgdGhlIHBsYXlsaXN0IElEIGNhbiBiZSB1c2VkIHVzaW5n
IHRoZSAmIzgyMTY7cGxheWxpc3QmIzgyMTc7IGF0dHJpYnV0ZTotPC9wPgoKPHByZT48Y29k
ZT4mbHQ7dHhwOmFyY195b3V0dWJlIHBsYXlsaXN0PSZxdW90OzJEQkZCNjBENTgxQUI5MDEm
cXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKIjtzOjQ6ImNvZGUiO3M6MzgwNzoiCmlmIChA
dHhwaW50ZXJmYWNlID09ICdhZG1pbicpCnsKCXJlZ2lzdGVyX2NhbGxiYWNrKCdfYXJjX3lv
dXR1YmVfYXV0b19lbmFibGUnLCAncGx1Z2luX2xpZmVjeWNsZS5hcmNfeW91dHViZScsICdp
bnN0YWxsZWQnKTsKfQoKZnVuY3Rpb24gYXJjX3lvdXR1YmUoJGF0dHMsJHRoaW5nKQp7Cgln
bG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAg
J3ZpZGVvJyAgICAgPT4gJycsCiAgICAgICAgJ3BsYXlsaXN0JyAgPT4gJycsCiAgICAgICAg
J2N1c3RvbScgICAgPT4gJ1lvdXR1YmUgSUQnLAogICAgICAgICd3aWR0aCcgICAgID0+ICcw
JywKICAgICAgICAnaGVpZ2h0JyAgICA9PiAnMCcsCiAgICAgICAgJ3JhdGlvJyAgICAgPT4g
JzQ6MycsCiAgICAgICAgJ2NvbG9yJyAgICAgPT4gJ3JlZCcsIC8vIG9yICd3aGl0ZScKICAg
ICAgICAnZnMnICAgICAgICA9PiAnMScsCiAgICAgICAgJ2hkJyAgICAgICAgPT4gMCwKICAg
ICAgICAnY2MnICAgICAgICA9PiAwLAogICAgICAgICdzdGFydCcgICAgID0+IDAsCiAgICAg
ICAgJ3RoZW1lJyAgICAgPT4gJ2RhcmsnLAogICAgICAgICdwcml2YWN5JyAgID0+ICcwJywK
ICAgICAgICAnc3NsJyAgICAgICA9PiAnMCcsCiAgICAgICAgJ2F1dG8nICAgICAgPT4gJzAn
LAogICAgICAgICdsaW5rJyAgICAgID0+ICcwJywKICAgICAgICAnbGFiZWwnICAgICA9PiAn
JywKICAgICAgICAnbGFiZWx0YWcnICA9PiAnJywKICAgICAgICAnd3JhcHRhZycgICA9PiAn
JywKICAgICAgICAnY2xhc3MnICAgICA9PiBfX0ZVTkNUSU9OX18KICAgICksJGF0dHMpKTsK
CiAgICAkY3VzdG9tID0gc3RydG9sb3dlcigkY3VzdG9tKTsKICAgIGlmICghJHZpZGVvICYm
IGlzc2V0KCR0aGlzYXJ0aWNsZVskY3VzdG9tXSkpIHsKICAgICAgICAkdmlkZW8gPSAkdGhp
c2FydGljbGVbJGN1c3RvbV07CiAgICB9CgogICAgJHYgPSAiIjsgJHAgPSAiIjsKCiAgICAv
LyBDaGVjayBmb3IgWW91dHViZSB2aWRlbyBJRCBvciBZb3V0dWJlIFVSTCB0byBleHRyYWN0
IElEIGZyb20KCiAgICBpZiAocHJlZ19tYXRjaCgiL15bYS16QS1aXStbOlwvXC9dK1tBLVph
LXowLTlcLV9dK1xcLnlvdXR1YmVcXC4rW0EtWmEtejAtOVwuXC8lJj1cP1wtX10rJC9pIiwk
dmlkZW8pKSB7CgogICAgICAgICR1cmxjID0gcGFyc2VfdXJsKCR2aWRlbyk7CiAgICAgICAg
JHFzdHIgPSAkdXJsY1sncXVlcnknXTsKICAgICAgICBwYXJzZV9zdHIoJHFzdHIsICRxYXJy
KTsKCiAgICAgICAgaWYgKGlzc2V0KCRxYXJyWyd2J10pKSB7CgogICAgICAgICAgICAkdiA9
ICRxYXJyWyd2J107CgogICAgICAgIH0gZWxzZWlmIChpc3NldCgkcWFyclsncCddKSkgewoK
ICAgICAgICAgICAgJHAgPSAkcWFyclsncCddOwoKICAgICAgICB9IGVsc2UgewoKICAgICAg
ICAgICAgcmV0dXJuICcnOwoKICAgICAgICB9CgogICAgfSBlbHNlaWYgKHByZWdfbWF0Y2go
Ii9eW2EtekEtWl0rWzpcL1wvXSt5b3V0dVwuYmVcLyhbQS1aYS16MC05XSspL2kiLCR2aWRl
bywkbWF0Y2hlcykpIHsKCiAgICAgICAgJHYgPSAkbWF0Y2hlc1sxXTsKCiAgICB9IGVsc2Vp
ZiAoJHZpZGVvKSB7CgogICAgICAgICR2ID0gJHZpZGVvOwoKICAgIH0gZWxzZWlmICgkcGxh
eWxpc3QpIHsKCiAgICAgICAgJHAgPSAkcGxheWxpc3Q7CgogICAgfSBlbHNlIHsKCiAgICAg
ICAgcmV0dXJuICcnOwoKICAgIH0KCiAgICBpZiAoJHApIHsKCiAgICAgICAgJHZsaW5rID0g
J2h0dHAnLigoJHNzbCk/J3MnOicnKS4nOi8vd3d3LnlvdXR1YmUnCiAgICAgICAgICAuKCgk
cHJpdmFjeSk/Jy1ub2Nvb2tpZSc6JycpLicuY29tL3AvJy4kcDsKCiAgICB9IGVsc2VpZiAo
JHYpIHsKCiAgICAgICAgJHZsaW5rID0gJ2h0dHAnLigoJHNzbCk/J3MnOicnKS4nOi8vd3d3
LnlvdXR1YmUnCiAgICAgICAgICAuKCgkcHJpdmFjeSk/Jy1ub2Nvb2tpZSc6JycpLicuY29t
L2VtYmVkLycuJHY7CgogICAgfQoKICAgIGlmICgkdnx8JHApIHsKCiAgICAgICAgJHRvb2xi
YXJfaCA9IDI1OwoKICAgICAgICBpZiAoISR3aWR0aCB8fCAhJGhlaWdodCkgewogICAgICAg
ICAgLy8gY2FsY3VsYXRlIHRoZSBhc3BlY3QgcmF0aW8KICAgICAgICAgIHByZWdfbWF0Y2go
Ii8oWzAtOV0rKTooWzAtOV0rKS8iLCRyYXRpbywkbWF0Y2hlcyk7CiAgICAgICAgICBpZiAo
JG1hdGNoZXNbMF0gJiYgJG1hdGNoZXNbMV0hPTAgJiYgJG1hdGNoZXNbMl0hPTApIHsKICAg
ICAgICAgICAgJGFzcGVjdCA9ICRtYXRjaGVzWzFdLyRtYXRjaGVzWzJdOwogICAgICAgICAg
fSBlbHNlIHsKICAgICAgICAgICAgJGFzcGVjdCA9IDEuMzMzOwogICAgICAgICAgfQogICAg
ICAgICAgLy8gY2FsY3VhdGUgdGhlIG5ldyB3aWR0aC9oZWlnaHQKICAgICAgICAgIGlmICgk
d2lkdGgpIHsKICAgICAgICAgICAgJGhlaWdodCA9ICR3aWR0aC8kYXNwZWN0ICsgJHRvb2xi
YXJfaDsKICAgICAgICAgIH0gZWxzZWlmICgkaGVpZ2h0KSB7CiAgICAgICAgICAgICR3aWR0
aCA9ICgkaGVpZ2h0LSR0b29sYmFyX2gpKiRhc3BlY3Q7CiAgICAgICAgICB9IGVsc2Ugewog
ICAgICAgICAgICAkd2lkdGggPSA0MjU7CiAgICAgICAgICAgICRoZWlnaHQgPSAzNDQ7CiAg
ICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkc3JjID0gJHZsaW5rLic/dGhlbWU9Jy4o
KCR0aGVtZT09J2RhcmsnKT8nZGFyayc6J2xpZ2h0JykKICAgICAgICAgICAgLicmYW1wO2Nv
bG9yPScuKCgkY29sb3I9PSdyZWQnKT8ncmVkJzond2hpdGUnKQogICAgICAgICAgICAuKCgk
ZnMpPycmYW1wO2ZzPTEnOicnKQogICAgICAgICAgICAuKCgkYXV0byk/JyZhbXA7YXV0b3Bs
YXk9MSc6JycpCiAgICAgICAgICAgIC4oKCRoZCk/JyZhbXA7aGQ9MSc6JycpCiAgICAgICAg
ICAgIC4oKCRzdGFydCk/JyZhbXA7c3RhcnQ9Jy4kc3RhcnQ6JycpOwoKICAgICAgICAkc3Jj
IC49ICRjYyA/ICcmYW1wO2NjX2xvYWRfcG9saWN5PTEnIDogJyc7CgogICAgICAgICRvdXQg
PSAnPGlmcmFtZSB3aWR0aD0iJy4kd2lkdGguJyIgaGVpZ2h0PSInLiRoZWlnaHQKICAgICAg
ICAgIC4nIiBzcmM9IicuJHNyYy4nIiBmcmFtZWJvcmRlcj0iMCInCiAgICAgICAgICAuKCgk
ZnMpPycgYWxsb3dmdWxsc2NyZWVuJzonJykuJz48L2lmcmFtZT4nOwoKICAgICAgICBpZiAo
JGxpbmspIHsKCiAgICAgICAgICAgICR1cmwgPSAnd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9
Jy4kdjsKICAgICAgICAgICAgJG91dC49ICc8cD48YSBocmVmPSJodHRwOi8vJy4kdXJsLici
IHJlbD0iZXh0ZXJuYWwiPicKICAgICAgICAgICAgICAgIC4oKCR0aGluZyk/cGFyc2UoJHRo
aW5nKTokdXJsKQogICAgICAgICAgICAgICAgLic8L2E+PC9wPic7CgogICAgICAgIH0KCiAg
ICAgICAgcmV0dXJuIGRvTGFiZWwoJGxhYmVsLCAkbGFiZWx0YWcpLigoJHdyYXB0YWcpID8g
ZG9UYWcoJG91dCwgJHdyYXB0YWcsICRjbGFzcykgOiAkb3V0KTsKCiAgICB9Cgp9CgovLyBB
dXRvIGVuYWJsZSBwbHVnaW4gb24gaW5zdGFsbCAob3JpZ2luYWwgaWRlYSBieSBNaWNoYWVs
IE1hbmZyZSkKZnVuY3Rpb24gX2FyY195b3V0dWJlX2F1dG9fZW5hYmxlKCRldmVudCwgJHN0
ZXApCnsKICAkcGx1Z2luID0gc3Vic3RyKCRldmVudCwgc3RybGVuKCdwbHVnaW5fbGlmZWN5
Y2xlLicpKTsKICAkcHJlZml4ID0gJ2FyY195b3V0dWJlJzsKICBpZiAoc3RybmNtcCgkcGx1
Z2luLCAkcHJlZml4LCBzdHJsZW4oJHByZWZpeCkpID09IDApCiAgewogICAgc2FmZV91cGRh
dGUoJ3R4cF9wbHVnaW4nLCAic3RhdHVzID0gMSIsICJuYW1lID0gJyIgLiBkb1NsYXNoKCRw
bHVnaW4pIC4gIiciKTsKICB9Cn0KIjtzOjM6Im1kNSI7czozMjoiMzMzNjhhYmY0MjZmNDY3
NjJjNTE5NmZhYmE2NzE5ZDYiO30=
